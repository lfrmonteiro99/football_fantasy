{
    "openapi": "3.0.0",
    "info": {
        "title": "Football Fantasy Manager API",
        "description": "API for managing football fantasy leagues, teams, players, tactics, formations, and match simulations with real-time SSE streaming.",
        "contact": {
            "name": "Football Fantasy",
            "email": "support@footballfantasy.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/api/v1",
            "description": "API v1"
        }
    ],
    "paths": {
        "/auth/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Register a new user with team selection",
                "description": "Creates a new user account, assigns a managed team, generates league calendars, and returns an API token.",
                "operationId": "register",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation",
                                    "managed_team_id"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "secret123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    },
                                    "managed_team_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User registered successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "description": "The created user with managedTeam.league loaded",
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "type": "string",
                                                    "example": "1|abc123tokenstring"
                                                },
                                                "token_type": {
                                                    "type": "string",
                                                    "example": "Bearer"
                                                },
                                                "calendar_generation": {
                                                    "description": "Calendar generation results",
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed or team already managed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Authenticate a user and return a token",
                "description": "Validates credentials and returns the user object with a Bearer token.",
                "operationId": "login",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Login successful"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "description": "The authenticated user with managedTeam.league loaded",
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "type": "string",
                                                    "example": "1|abc123tokenstring"
                                                },
                                                "token_type": {
                                                    "type": "string",
                                                    "example": "Bearer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid credentials"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/profile": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get the authenticated user's profile",
                "description": "Returns the current user with their managed team and league relationships loaded.",
                "operationId": "profile",
                "responses": {
                    "200": {
                        "description": "User profile retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "The authenticated user with managedTeam.league loaded",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout the authenticated user",
                "description": "Revokes the current access token for the authenticated user.",
                "operationId": "logout",
                "responses": {
                    "200": {
                        "description": "Logged out successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Logged out successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/available-teams": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "List teams available for management",
                "description": "Returns all teams that do not currently have a manager assigned, ordered alphabetically. Used during registration to let the user pick a team.",
                "operationId": "availableTeams",
                "responses": {
                    "200": {
                        "description": "Available teams retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "SL Benfica"
                                                    },
                                                    "league": {
                                                        "description": "The league the team belongs to",
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Available teams retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/regenerate-calendars": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Regenerate league calendars for the current manager",
                "description": "Regenerates the match calendars for all leagues associated with the authenticated manager's team.",
                "operationId": "regenerateCalendars",
                "responses": {
                    "200": {
                        "description": "Calendars regenerated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Calendars regenerated successfully"
                                        },
                                        "data": {
                                            "description": "Calendar generation results",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Calendar regeneration failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to regenerate calendars: error details"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/auth/calendar-stats": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get calendar statistics for the current manager",
                "description": "Returns statistics about the match calendars for the authenticated manager, such as total matches, completed, upcoming, etc.",
                "operationId": "calendarStats",
                "responses": {
                    "200": {
                        "description": "Calendar statistics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Calendar statistics",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Calendar statistics retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to retrieve statistics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to get calendar statistics: error details"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/formations": {
            "get": {
                "tags": [
                    "Formations"
                ],
                "summary": "List all formations",
                "description": "Retrieve a list of formations, optionally filtered by style and active status. Includes tactics count for each formation.",
                "operationId": "getFormations",
                "parameters": [
                    {
                        "name": "style",
                        "in": "query",
                        "description": "Filter formations by tactical style",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "defensive",
                                "balanced",
                                "attacking"
                            ]
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Filter formations by active status",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Formations retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "4-3-3"
                                                    },
                                                    "display_name": {
                                                        "type": "string"
                                                    },
                                                    "style": {
                                                        "type": "string",
                                                        "enum": [
                                                            "defensive",
                                                            "balanced",
                                                            "attacking"
                                                        ]
                                                    },
                                                    "is_active": {
                                                        "type": "boolean"
                                                    },
                                                    "tactics_count": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formations retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Formations"
                ],
                "summary": "Create a new formation",
                "description": "Store a newly created formation. Defenders, midfielders, and forwards must total 10 outfield players.",
                "operationId": "storeFormation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "display_name",
                                    "positions",
                                    "style",
                                    "defenders_count",
                                    "midfielders_count",
                                    "forwards_count"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 20,
                                        "example": "4-3-3"
                                    },
                                    "display_name": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "4-3-3 Attacking"
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 500,
                                        "nullable": true
                                    },
                                    "positions": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "x": {
                                                    "type": "integer",
                                                    "maximum": 100,
                                                    "minimum": 0
                                                },
                                                "y": {
                                                    "type": "integer",
                                                    "maximum": 100,
                                                    "minimum": 0
                                                },
                                                "position": {
                                                    "type": "string",
                                                    "maxLength": 3,
                                                    "example": "CB"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "maxItems": 11,
                                        "minItems": 11
                                    },
                                    "style": {
                                        "type": "string",
                                        "enum": [
                                            "defensive",
                                            "balanced",
                                            "attacking"
                                        ]
                                    },
                                    "defenders_count": {
                                        "type": "integer",
                                        "maximum": 6,
                                        "minimum": 3
                                    },
                                    "midfielders_count": {
                                        "type": "integer",
                                        "maximum": 6,
                                        "minimum": 2
                                    },
                                    "forwards_count": {
                                        "type": "integer",
                                        "maximum": 4,
                                        "minimum": 1
                                    },
                                    "is_active": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Formation created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "display_name": {
                                                    "type": "string"
                                                },
                                                "style": {
                                                    "type": "string"
                                                },
                                                "is_active": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formation created successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error (e.g. defenders + midfielders + forwards must total 10)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Defenders, midfielders, and forwards must total 10 players"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/formations/{formation}": {
            "get": {
                "tags": [
                    "Formations"
                ],
                "summary": "Get a specific formation",
                "description": "Retrieve a single formation by ID, including its associated tactics.",
                "operationId": "showFormation",
                "parameters": [
                    {
                        "name": "formation",
                        "in": "path",
                        "description": "Formation ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Formation retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "display_name": {
                                                    "type": "string"
                                                },
                                                "style": {
                                                    "type": "string"
                                                },
                                                "tactics": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formation retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Formation not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Formations"
                ],
                "summary": "Update a formation",
                "description": "Update an existing formation. All fields are optional (uses 'sometimes' validation). If position counts are updated, they must still total 10.",
                "operationId": "updateFormation",
                "parameters": [
                    {
                        "name": "formation",
                        "in": "path",
                        "description": "Formation ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 20
                                    },
                                    "display_name": {
                                        "type": "string",
                                        "maxLength": 100
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 500,
                                        "nullable": true
                                    },
                                    "positions": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "x": {
                                                    "type": "integer",
                                                    "maximum": 100,
                                                    "minimum": 0
                                                },
                                                "y": {
                                                    "type": "integer",
                                                    "maximum": 100,
                                                    "minimum": 0
                                                },
                                                "position": {
                                                    "type": "string",
                                                    "maxLength": 3
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "maxItems": 11,
                                        "minItems": 11
                                    },
                                    "style": {
                                        "type": "string",
                                        "enum": [
                                            "defensive",
                                            "balanced",
                                            "attacking"
                                        ]
                                    },
                                    "defenders_count": {
                                        "type": "integer",
                                        "maximum": 6,
                                        "minimum": 3
                                    },
                                    "midfielders_count": {
                                        "type": "integer",
                                        "maximum": 6,
                                        "minimum": 2
                                    },
                                    "forwards_count": {
                                        "type": "integer",
                                        "maximum": 4,
                                        "minimum": 1
                                    },
                                    "is_active": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Formation updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formation updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Formation not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Formations"
                ],
                "summary": "Delete a formation",
                "description": "Remove the specified formation from the system.",
                "operationId": "destroyFormation",
                "parameters": [
                    {
                        "name": "formation",
                        "in": "path",
                        "description": "Formation ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Formation deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formation deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Formation not found"
                    }
                }
            }
        },
        "/formations/style/grouped": {
            "get": {
                "tags": [
                    "Formations"
                ],
                "summary": "Get formations grouped by style",
                "description": "Retrieve all active formations grouped by their tactical style (defensive, balanced, attacking).",
                "operationId": "getFormationsGroupedByStyle",
                "responses": {
                    "200": {
                        "description": "Formations grouped by style retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "defensive": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "balanced": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "attacking": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formations grouped by style retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/formations/{formation}/visualization": {
            "get": {
                "tags": [
                    "Formations"
                ],
                "summary": "Get formation visualization data",
                "description": "Retrieve visualization data for a formation including field positions, tactical setup lines (defensive, midfield, attacking), and width analysis (left flank, center, right flank).",
                "operationId": "getFormationVisualization",
                "parameters": [
                    {
                        "name": "formation",
                        "in": "path",
                        "description": "Formation ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Formation visualization data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "formation": {
                                                    "type": "object"
                                                },
                                                "field_positions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "x": {
                                                                "type": "integer"
                                                            },
                                                            "y": {
                                                                "type": "integer"
                                                            },
                                                            "position": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "tactical_setup": {
                                                    "properties": {
                                                        "defensive_line": {
                                                            "type": "number"
                                                        },
                                                        "midfield_line": {
                                                            "type": "number"
                                                        },
                                                        "attacking_line": {
                                                            "type": "number"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "width_analysis": {
                                                    "properties": {
                                                        "left_flank": {
                                                            "type": "integer"
                                                        },
                                                        "center": {
                                                            "type": "integer"
                                                        },
                                                        "right_flank": {
                                                            "type": "integer"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formation visualization data retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Formation not found"
                    }
                }
            }
        },
        "/formations/{formation}/sample-instructions": {
            "get": {
                "tags": [
                    "Formations"
                ],
                "summary": "Get sample tactical instructions for a formation",
                "description": "Retrieve sample tactical instructions associated with a formation, including the formation's basic info and whether sample instructions are available.",
                "operationId": "getFormationSampleInstructions",
                "parameters": [
                    {
                        "name": "formation",
                        "in": "path",
                        "description": "Formation ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Formation sample instructions retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "formation": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer"
                                                        },
                                                        "name": {
                                                            "type": "string"
                                                        },
                                                        "display_name": {
                                                            "type": "string"
                                                        },
                                                        "style": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "sample_instructions": {
                                                    "type": "object"
                                                },
                                                "has_sample_instructions": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formation sample instructions retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Formation not found"
                    }
                }
            }
        },
        "/leagues": {
            "get": {
                "tags": [
                    "Leagues"
                ],
                "summary": "List all leagues",
                "description": "Returns a paginated list of leagues, optionally filtered by country or level.",
                "operationId": "getLeagues",
                "parameters": [
                    {
                        "name": "country",
                        "in": "query",
                        "description": "Filter leagues by country",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "level",
                        "in": "query",
                        "description": "Filter leagues by level",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of results per page (default: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Leagues retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Leagues retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Leagues"
                ],
                "summary": "Create a new league",
                "description": "Creates a new league with the provided details.",
                "operationId": "createLeague",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "country",
                                    "level",
                                    "max_teams",
                                    "reputation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Premier League"
                                    },
                                    "country": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "England"
                                    },
                                    "level": {
                                        "type": "integer",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 1
                                    },
                                    "max_teams": {
                                        "type": "integer",
                                        "maximum": 30,
                                        "minimum": 8,
                                        "example": 20
                                    },
                                    "reputation": {
                                        "type": "number",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 9.5
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "League created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "League created successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/leagues/{league}": {
            "get": {
                "tags": [
                    "Leagues"
                ],
                "summary": "Get a specific league",
                "description": "Returns a single league with its teams and players.",
                "operationId": "getLeague",
                "parameters": [
                    {
                        "name": "league",
                        "in": "path",
                        "description": "League ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "League retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "League retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "League not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Leagues"
                ],
                "summary": "Update an existing league",
                "description": "Updates a league with the provided fields. All fields are optional.",
                "operationId": "updateLeague",
                "parameters": [
                    {
                        "name": "league",
                        "in": "path",
                        "description": "League ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Premier League"
                                    },
                                    "country": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "England"
                                    },
                                    "level": {
                                        "type": "integer",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 1
                                    },
                                    "max_teams": {
                                        "type": "integer",
                                        "maximum": 30,
                                        "minimum": 8,
                                        "example": 20
                                    },
                                    "reputation": {
                                        "type": "number",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 9.5
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "League updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "League updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "League not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Leagues"
                ],
                "summary": "Delete a league",
                "description": "Permanently deletes the specified league.",
                "operationId": "deleteLeague",
                "parameters": [
                    {
                        "name": "league",
                        "in": "path",
                        "description": "League ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "League deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "League deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "League not found"
                    }
                }
            }
        },
        "/leagues/{league}/standings": {
            "get": {
                "tags": [
                    "Leagues"
                ],
                "summary": "Get league standings",
                "description": "Returns the league table computed from completed match results, sorted by points, goal difference, and goals for. Includes last 5 match form for each team.",
                "operationId": "getLeagueStandings",
                "parameters": [
                    {
                        "name": "league",
                        "in": "path",
                        "description": "League ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "League standings retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "league": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Liga Portugal"
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "example": "Portugal",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "standings": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "position": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "team": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "SL Benfica"
                                                            },
                                                            "short_name": {
                                                                "type": "string",
                                                                "example": "BEN"
                                                            },
                                                            "primary_color": {
                                                                "type": "string",
                                                                "example": "#FF0000",
                                                                "nullable": true
                                                            },
                                                            "secondary_color": {
                                                                "type": "string",
                                                                "example": "#FFFFFF",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "played": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "won": {
                                                        "type": "integer",
                                                        "example": 7
                                                    },
                                                    "drawn": {
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "lost": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "goals_for": {
                                                        "type": "integer",
                                                        "example": 22
                                                    },
                                                    "goals_against": {
                                                        "type": "integer",
                                                        "example": 8
                                                    },
                                                    "goal_difference": {
                                                        "type": "integer",
                                                        "example": 14
                                                    },
                                                    "points": {
                                                        "type": "integer",
                                                        "example": 23
                                                    },
                                                    "form": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string",
                                                            "enum": [
                                                                "W",
                                                                "D",
                                                                "L"
                                                            ]
                                                        },
                                                        "example": [
                                                            "W",
                                                            "W",
                                                            "D",
                                                            "W",
                                                            "L"
                                                        ]
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "matches_played": {
                                            "type": "integer",
                                            "example": 45
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "League not found"
                    }
                }
            }
        },
        "/stats/overview": {
            "get": {
                "tags": [
                    "Stats"
                ],
                "summary": "Get overview stats for all leagues",
                "description": "Returns aggregate statistics for every league including team counts, match progress, total goals, and average goals per match.",
                "operationId": "getStatsOverview",
                "responses": {
                    "200": {
                        "description": "Overview stats retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "league": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Liga Portugal"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "teams_count": {
                                                "type": "integer",
                                                "example": 18
                                            },
                                            "matches_completed": {
                                                "type": "integer",
                                                "example": 45
                                            },
                                            "matches_total": {
                                                "type": "integer",
                                                "example": 306
                                            },
                                            "total_goals": {
                                                "type": "integer",
                                                "example": 120
                                            },
                                            "avg_goals_per_match": {
                                                "type": "number",
                                                "format": "float",
                                                "example": 2.67
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/matches/league": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Get matches for a specific league and season",
                "description": "Returns matches filtered by league, season, matchday, team, and status. If no season is specified, the current season is used.",
                "operationId": "getLeagueMatches",
                "parameters": [
                    {
                        "name": "league_id",
                        "in": "query",
                        "description": "ID of the league",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "season_id",
                        "in": "query",
                        "description": "ID of the season (defaults to current season)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "matchday",
                        "in": "query",
                        "description": "Filter by matchday number",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1
                        }
                    },
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Filter by team (home or away)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by match status (e.g. scheduled, completed)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "matches": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "league": {
                                                    "type": "object"
                                                },
                                                "season": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No current season found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No current season found and no season specified"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/matches/team": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Get matches for a specific team",
                "description": "Returns all matches where the specified team plays (home or away), optionally filtered by season and status.",
                "operationId": "getTeamMatches",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "ID of the team",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "season_id",
                        "in": "query",
                        "description": "Filter by season (defaults to current season if omitted)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by match status",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/matches/upcoming": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Get upcoming scheduled matches",
                "description": "Returns upcoming matches that have not yet been played, optionally filtered by league.",
                "operationId": "getUpcomingMatches",
                "parameters": [
                    {
                        "name": "league_id",
                        "in": "query",
                        "description": "Filter by league",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Maximum number of matches to return (default 10, max 20)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "maximum": 20,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/matches/{id}": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Get details for a specific match",
                "description": "Returns full match details including home team, away team, league, and season.",
                "operationId": "getMatchDetails",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    }
                }
            }
        },
        "/matches/{id}/simulate": {
            "post": {
                "tags": [
                    "Matches"
                ],
                "summary": "Simulate a scheduled match",
                "description": "Runs the match simulation engine for a scheduled match. The match must have status 'scheduled'. Returns the match result and generated events.",
                "operationId": "simulateMatch",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Match simulated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "match": {
                                                    "type": "object"
                                                },
                                                "events": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match simulated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Match already played or in progress",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match has already been played or is in progress"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    },
                    "500": {
                        "description": "Simulation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/matches/{id}/ai-key-events": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Generate AI key events for a match",
                "description": "Uses AI to generate 20 key events for the specified match based on team rosters and player attributes.",
                "operationId": "generateKeyEvents",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Array of generated key events",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    }
                }
            }
        },
        "/matches/{id}/ai-commentary": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Generate AI commentary for a match",
                "description": "Uses AI to generate 20 commentary events for the specified match. Similar to key events but formatted as commentary text.",
                "operationId": "generateCommentary",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Array of generated commentary events",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    }
                }
            }
        },
        "/matches/{id}/ai-event-positions": {
            "post": {
                "tags": [
                    "Matches"
                ],
                "summary": "Generate player positions for a single event",
                "description": "Uses AI to generate pitch positions for all players during a specific match event.",
                "operationId": "generateEventPositions",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "event"
                                ],
                                "properties": {
                                    "event": {
                                        "required": [
                                            "time",
                                            "event_type",
                                            "description",
                                            "score"
                                        ],
                                        "properties": {
                                            "time": {
                                                "description": "Event time in MM:SS format",
                                                "type": "string",
                                                "example": "23:00"
                                            },
                                            "event_type": {
                                                "description": "Type of event",
                                                "type": "string",
                                                "example": "goal"
                                            },
                                            "description": {
                                                "description": "Event description",
                                                "type": "string",
                                                "example": "Header from a corner kick"
                                            },
                                            "score": {
                                                "properties": {
                                                    "home": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "away": {
                                                        "type": "integer",
                                                        "example": 0
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Generated position data for the event",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    },
                    "500": {
                        "description": "Position generation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Failed to generate event positions"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/matches/{match}/lineup": {
            "get": {
                "tags": [
                    "Matches"
                ],
                "summary": "Get lineup for a match",
                "description": "Returns starting XI and bench for both home and away teams. If no lineup has been saved, an auto-suggested lineup is generated based on each team's formation.",
                "operationId": "getLineup",
                "parameters": [
                    {
                        "name": "match",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lineup data for both teams",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "home": {
                                                    "properties": {
                                                        "team": {
                                                            "type": "object"
                                                        },
                                                        "formation": {
                                                            "type": "object"
                                                        },
                                                        "starting": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "bench": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "away": {
                                                    "properties": {
                                                        "team": {
                                                            "type": "object"
                                                        },
                                                        "formation": {
                                                            "type": "object"
                                                        },
                                                        "starting": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "bench": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Matches"
                ],
                "summary": "Save lineup for a match",
                "description": "Persists the starting XI and bench players for a team in a match. Validates 11 starters with exactly 1 GK, no duplicate players, and all players belonging to the team.",
                "operationId": "saveLineup",
                "parameters": [
                    {
                        "name": "match",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id",
                                    "starting"
                                ],
                                "properties": {
                                    "team_id": {
                                        "description": "ID of the team this lineup belongs to",
                                        "type": "integer"
                                    },
                                    "starting": {
                                        "description": "Exactly 11 starting players",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "player_id",
                                                "position"
                                            ],
                                            "properties": {
                                                "player_id": {
                                                    "description": "Player ID",
                                                    "type": "integer"
                                                },
                                                "position": {
                                                    "description": "Position abbreviation (e.g. GK, CB, ST)",
                                                    "type": "string",
                                                    "maxLength": 5
                                                },
                                                "x": {
                                                    "description": "X coordinate on pitch",
                                                    "type": "number",
                                                    "format": "float",
                                                    "maximum": 100,
                                                    "minimum": 0
                                                },
                                                "y": {
                                                    "description": "Y coordinate on pitch",
                                                    "type": "number",
                                                    "format": "float",
                                                    "maximum": 100,
                                                    "minimum": 0
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "maxItems": 11,
                                        "minItems": 11
                                    },
                                    "bench": {
                                        "description": "Bench players (optional)",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "player_id"
                                            ],
                                            "properties": {
                                                "player_id": {
                                                    "description": "Player ID",
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "maxItems": 17
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Lineup saved successfully (returns same format as GET lineup)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error (duplicate players, wrong team, missing GK, etc.)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    }
                }
            }
        },
        "/matches/{id}/ai-events-positions-batch": {
            "post": {
                "tags": [
                    "Matches"
                ],
                "summary": "Batch-generate player positions for multiple events",
                "description": "Uses AI to generate pitch positions for all players across up to 10 match events in a single request. Events are normalized and validated before processing.",
                "operationId": "generateEventsPositionsBatch",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Match ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "events"
                                ],
                                "properties": {
                                    "events": {
                                        "description": "Array of events (max 10)",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "time",
                                                "event_type",
                                                "description",
                                                "score",
                                                "sub_events"
                                            ],
                                            "properties": {
                                                "time": {
                                                    "description": "Event time in MM:SS format",
                                                    "type": "string",
                                                    "example": "45:00"
                                                },
                                                "event_type": {
                                                    "description": "Type of event",
                                                    "type": "string",
                                                    "example": "goal"
                                                },
                                                "description": {
                                                    "description": "Event description",
                                                    "type": "string"
                                                },
                                                "score": {
                                                    "properties": {
                                                        "home": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "away": {
                                                            "type": "integer",
                                                            "example": 0
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "sub_events": {
                                                    "description": "Detailed sub-event actions",
                                                    "type": "array",
                                                    "items": {
                                                        "required": [
                                                            "action"
                                                        ],
                                                        "properties": {
                                                            "action": {
                                                                "description": "Sub-event action type",
                                                                "type": "string"
                                                            },
                                                            "from_player": {
                                                                "description": "Player ID initiating the action",
                                                                "type": "integer",
                                                                "nullable": true
                                                            },
                                                            "to_player": {
                                                                "description": "Player ID receiving the action",
                                                                "type": "integer",
                                                                "nullable": true
                                                            },
                                                            "players_involved": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "integer"
                                                                },
                                                                "nullable": true
                                                            },
                                                            "ball_start": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "number"
                                                                },
                                                                "nullable": true
                                                            },
                                                            "ball_end": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "number"
                                                                },
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "maxItems": 10,
                                        "minItems": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Batch position data for all events",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Match not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Batch position generation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Failed to generate batch event positions"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/simulate": {
            "post": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Simulate a match between two teams",
                "description": "Runs a full match simulation synchronously using the provided teams, tactics, weather, and options. Returns the complete match result.",
                "operationId": "simulatorSimulateMatch",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "home_team_id",
                                    "away_team_id"
                                ],
                                "properties": {
                                    "home_team_id": {
                                        "description": "ID of the home team",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "away_team_id": {
                                        "description": "ID of the away team",
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "home_tactic_id": {
                                        "description": "ID of the home team tactic",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "away_tactic_id": {
                                        "description": "ID of the away team tactic",
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "weather": {
                                        "description": "Weather condition for the match",
                                        "type": "string",
                                        "default": "normal",
                                        "enum": [
                                            "normal",
                                            "rainy",
                                            "snowy",
                                            "windy"
                                        ],
                                        "nullable": true
                                    },
                                    "stadium": {
                                        "description": "Stadium name",
                                        "type": "string",
                                        "example": "Estadio da Luz",
                                        "nullable": true
                                    },
                                    "options": {
                                        "description": "Simulation options",
                                        "properties": {
                                            "tickRate": {
                                                "type": "integer",
                                                "maximum": 120,
                                                "minimum": 1,
                                                "example": 60
                                            },
                                            "enableCommentary": {
                                                "type": "boolean",
                                                "example": true
                                            },
                                            "enableStatistics": {
                                                "type": "boolean",
                                                "example": true
                                            },
                                            "enableFatigue": {
                                                "type": "boolean",
                                                "example": true
                                            },
                                            "enableMomentum": {
                                                "type": "boolean",
                                                "example": true
                                            },
                                            "enableWeather": {
                                                "type": "boolean",
                                                "example": false
                                            }
                                        },
                                        "type": "object",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Match simulation result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Full match result data",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Simulation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match simulation failed"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Simulator service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match simulator service is unavailable"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/simulate-realtime": {
            "post": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Simulate a match in real-time mode",
                "description": "Runs a match simulation with real-time settings enabled (commentary, statistics, fatigue, and momentum). Returns the complete match result.",
                "operationId": "simulateRealTimeMatch",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "home_team_id",
                                    "away_team_id"
                                ],
                                "properties": {
                                    "home_team_id": {
                                        "description": "ID of the home team",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "away_team_id": {
                                        "description": "ID of the away team",
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "home_tactic_id": {
                                        "description": "ID of the home team tactic",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "away_tactic_id": {
                                        "description": "ID of the away team tactic",
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "weather": {
                                        "description": "Weather condition for the match",
                                        "type": "string",
                                        "default": "normal",
                                        "enum": [
                                            "normal",
                                            "rainy",
                                            "snowy",
                                            "windy"
                                        ],
                                        "nullable": true
                                    },
                                    "stadium": {
                                        "description": "Stadium name",
                                        "type": "string",
                                        "example": "Estadio da Luz",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Real-time match simulation result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Full match result data including final_score",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Simulation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Real-time match simulation failed"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Simulator service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match simulator service is unavailable"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/health": {
            "get": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Check simulator service health",
                "description": "Returns the current health status of the match simulator service along with a timestamp.",
                "operationId": "simulatorHealth",
                "responses": {
                    "200": {
                        "description": "Health status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "simulator_healthy": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "timestamp": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2026-02-16T12:00:00.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/simulate-streaming": {
            "post": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Simulate a match with streaming updates",
                "description": "Starts a match simulation with streaming updates. If the server is under high load (max concurrent simulations reached), the simulation is queued and a 202 response is returned with a queue position. Otherwise, the simulation streams immediately with a 200 response.",
                "operationId": "simulateStreamingMatch",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "home_team_id",
                                    "away_team_id"
                                ],
                                "properties": {
                                    "home_team_id": {
                                        "description": "ID of the home team",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "away_team_id": {
                                        "description": "ID of the away team",
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "home_tactic_id": {
                                        "description": "ID of the home team tactic",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "away_tactic_id": {
                                        "description": "ID of the away team tactic",
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "weather": {
                                        "description": "Weather condition for the match",
                                        "type": "string",
                                        "default": "normal",
                                        "enum": [
                                            "normal",
                                            "rainy",
                                            "snowy",
                                            "windy"
                                        ],
                                        "nullable": true
                                    },
                                    "stadium": {
                                        "description": "Stadium name",
                                        "type": "string",
                                        "example": "Estadio da Luz",
                                        "nullable": true
                                    },
                                    "options": {
                                        "description": "Simulation options",
                                        "type": "object",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Streaming simulation started immediately"
                    },
                    "202": {
                        "description": "Simulation queued due to high server load",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Simulation queued due to high load"
                                        },
                                        "simulation_id": {
                                            "type": "string"
                                        },
                                        "estimated_wait_time": {
                                            "description": "Estimated wait in seconds",
                                            "type": "integer",
                                            "example": 270
                                        },
                                        "queue_position": {
                                            "type": "integer",
                                            "example": 4
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Simulation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Streaming match simulation failed"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Simulator service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match simulator service is unavailable"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/simulate-async": {
            "post": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Start an asynchronous match simulation",
                "description": "Queues a match simulation job via RabbitMQ for background processing. Returns immediately with a job ID and status URL for polling.",
                "operationId": "simulateMatchAsync",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "home_team_id",
                                    "away_team_id"
                                ],
                                "properties": {
                                    "home_team_id": {
                                        "description": "ID of the home team",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "away_team_id": {
                                        "description": "ID of the away team",
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "home_tactic_id": {
                                        "description": "ID of the home team tactic",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "away_tactic_id": {
                                        "description": "ID of the away team tactic",
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "weather": {
                                        "description": "Weather condition for the match",
                                        "type": "string",
                                        "default": "normal",
                                        "enum": [
                                            "normal",
                                            "rainy",
                                            "snowy",
                                            "windy"
                                        ],
                                        "nullable": true
                                    },
                                    "stadium": {
                                        "description": "Stadium name",
                                        "type": "string",
                                        "example": "Estadio da Luz",
                                        "nullable": true
                                    },
                                    "options": {
                                        "description": "Simulation options",
                                        "type": "object",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "Simulation job accepted and queued",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Match simulation started"
                                        },
                                        "data": {
                                            "properties": {
                                                "job_id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "queued"
                                                },
                                                "estimated_duration": {
                                                    "type": "string",
                                                    "example": "90-120 seconds"
                                                },
                                                "status_url": {
                                                    "type": "string",
                                                    "format": "uri",
                                                    "example": "http://localhost:8000/api/v1/simulator/status/550e8400-e29b-41d4-a716-446655440000"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to queue simulation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to start match simulation"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/status/{jobId}": {
            "get": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Get the status of an async simulation job",
                "description": "Retrieves the current status and progress of a previously queued simulation job by its UUID.",
                "operationId": "getSimulationStatus",
                "parameters": [
                    {
                        "name": "jobId",
                        "in": "path",
                        "description": "UUID of the simulation job",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440000"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Job status retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "job_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "user_id": {
                                                    "type": "integer"
                                                },
                                                "status": {
                                                    "description": "One of: queued, processing, completed, failed",
                                                    "type": "string",
                                                    "example": "queued"
                                                },
                                                "message": {
                                                    "type": "string"
                                                },
                                                "progress": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "timestamp": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "match_data": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Simulation job not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Simulation job not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to retrieve status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to get simulation status"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/stream/{jobId}": {
            "get": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Stream simulation updates via Server-Sent Events",
                "description": "Opens an SSE connection to receive real-time updates for an async simulation job. Events emitted: connected, status (progress updates), heartbeat (every 5s), finished (completed/failed), timeout (after 5 minutes).",
                "operationId": "streamSimulationUpdates",
                "parameters": [
                    {
                        "name": "jobId",
                        "in": "path",
                        "description": "UUID of the simulation job to stream updates for",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440000"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "SSE stream (text/event-stream). Named events: connected (initial handshake), status (job progress updates), heartbeat (keep-alive every 5s), finished (simulation completed or failed), timeout (stream timed out after 5 minutes)."
                    },
                    "500": {
                        "description": "Failed to start event stream",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to start event stream"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/simulator/options": {
            "get": {
                "tags": [
                    "Simulator"
                ],
                "summary": "Get available simulation options",
                "description": "Returns the available weather options, default simulation options, and performance limits.",
                "operationId": "getSimulatorOptions",
                "responses": {
                    "200": {
                        "description": "Available simulation options",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "weather_options": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "normal",
                                                        "rainy",
                                                        "snowy",
                                                        "windy"
                                                    ]
                                                },
                                                "default_options": {
                                                    "properties": {
                                                        "tickRate": {
                                                            "type": "integer",
                                                            "example": 60
                                                        },
                                                        "enableCommentary": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "enableStatistics": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "enableFatigue": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "enableMomentum": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "enableWeather": {
                                                            "type": "boolean",
                                                            "example": false
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "performance_limits": {
                                                    "properties": {
                                                        "max_tick_rate": {
                                                            "type": "integer",
                                                            "example": 120
                                                        },
                                                        "max_duration": {
                                                            "type": "integer",
                                                            "example": 7200
                                                        },
                                                        "max_concurrent_simulations": {
                                                            "type": "integer",
                                                            "example": 10
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/players": {
            "get": {
                "tags": [
                    "Players"
                ],
                "summary": "List all players with optional filters",
                "description": "Returns a paginated list of players. Supports filtering by team, position, nationality, name search, age range, and market value range.",
                "operationId": "listPlayers",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Filter by team ID",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "position_id",
                        "in": "query",
                        "description": "Filter by primary position ID",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "nationality",
                        "in": "query",
                        "description": "Filter by nationality",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search by first or last name",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "min_age",
                        "in": "query",
                        "description": "Minimum player age",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "max_age",
                        "in": "query",
                        "description": "Maximum player age",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "min_value",
                        "in": "query",
                        "description": "Minimum market value",
                        "required": false,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "max_value",
                        "in": "query",
                        "description": "Maximum market value",
                        "required": false,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "sort_by",
                        "in": "query",
                        "description": "Sort field (default: market_value)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "market_value",
                                "rating",
                                "first_name",
                                "last_name"
                            ]
                        }
                    },
                    {
                        "name": "sort_order",
                        "in": "query",
                        "description": "Sort direction (default: desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ]
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Results per page (default: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated list of players retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Paginated player data",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Players retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Players"
                ],
                "summary": "Create a new player",
                "description": "Creates a new player with the provided details. Validates shirt number uniqueness within the team.",
                "operationId": "createPlayer",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "first_name",
                                    "last_name",
                                    "date_of_birth",
                                    "nationality",
                                    "preferred_foot",
                                    "height_cm",
                                    "weight_kg",
                                    "primary_position_id",
                                    "market_value",
                                    "wage_per_week"
                                ],
                                "properties": {
                                    "first_name": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Cristiano"
                                    },
                                    "last_name": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Ronaldo"
                                    },
                                    "date_of_birth": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "1985-02-05"
                                    },
                                    "nationality": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Portuguese"
                                    },
                                    "preferred_foot": {
                                        "type": "string",
                                        "enum": [
                                            "left",
                                            "right",
                                            "both"
                                        ],
                                        "example": "right"
                                    },
                                    "height_cm": {
                                        "type": "integer",
                                        "maximum": 220,
                                        "minimum": 140,
                                        "example": 187
                                    },
                                    "weight_kg": {
                                        "type": "integer",
                                        "maximum": 150,
                                        "minimum": 40,
                                        "example": 83
                                    },
                                    "team_id": {
                                        "description": "Team ID (null for free agent)",
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "primary_position_id": {
                                        "description": "Primary position ID",
                                        "type": "integer",
                                        "example": 10
                                    },
                                    "secondary_positions": {
                                        "description": "Array of secondary position IDs",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "nullable": true
                                    },
                                    "market_value": {
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 75000000
                                    },
                                    "wage_per_week": {
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 500000
                                    },
                                    "contract_start": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-01",
                                        "nullable": true
                                    },
                                    "contract_end": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2026-06-30",
                                        "nullable": true
                                    },
                                    "shirt_number": {
                                        "type": "integer",
                                        "maximum": 99,
                                        "minimum": 1,
                                        "example": 7,
                                        "nullable": true
                                    },
                                    "is_injured": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "injury_return_date": {
                                        "type": "string",
                                        "format": "date",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Player created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Created player with team and position",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player created successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error or shirt number already taken",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Shirt number already taken by another player in this team"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/players/{player}": {
            "get": {
                "tags": [
                    "Players"
                ],
                "summary": "Get a specific player",
                "description": "Returns a single player with team, position, attributes, and tactical position relationships.",
                "operationId": "getPlayer",
                "parameters": [
                    {
                        "name": "player",
                        "in": "path",
                        "description": "Player ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Player retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Player with team, position, attributes, and tactical positions",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Player not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Players"
                ],
                "summary": "Update an existing player",
                "description": "Updates a player's details. All fields are optional (uses 'sometimes' validation). Validates shirt number uniqueness within the team.",
                "operationId": "updatePlayer",
                "parameters": [
                    {
                        "name": "player",
                        "in": "path",
                        "description": "Player ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "first_name": {
                                        "type": "string",
                                        "maxLength": 100
                                    },
                                    "last_name": {
                                        "type": "string",
                                        "maxLength": 100
                                    },
                                    "date_of_birth": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "nationality": {
                                        "type": "string",
                                        "maxLength": 100
                                    },
                                    "preferred_foot": {
                                        "type": "string",
                                        "enum": [
                                            "left",
                                            "right",
                                            "both"
                                        ]
                                    },
                                    "height_cm": {
                                        "type": "integer",
                                        "maximum": 220,
                                        "minimum": 140
                                    },
                                    "weight_kg": {
                                        "type": "integer",
                                        "maximum": 150,
                                        "minimum": 40
                                    },
                                    "team_id": {
                                        "type": "integer",
                                        "nullable": true
                                    },
                                    "primary_position_id": {
                                        "type": "integer"
                                    },
                                    "secondary_positions": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        },
                                        "nullable": true
                                    },
                                    "market_value": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "wage_per_week": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "contract_start": {
                                        "type": "string",
                                        "format": "date",
                                        "nullable": true
                                    },
                                    "contract_end": {
                                        "type": "string",
                                        "format": "date",
                                        "nullable": true
                                    },
                                    "shirt_number": {
                                        "type": "integer",
                                        "maximum": 99,
                                        "minimum": 1,
                                        "nullable": true
                                    },
                                    "is_injured": {
                                        "type": "boolean"
                                    },
                                    "injury_return_date": {
                                        "type": "string",
                                        "format": "date",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Player updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Updated player with team, position, and attributes",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Player not found"
                    },
                    "422": {
                        "description": "Validation error or shirt number already taken",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Shirt number already taken by another player in this team"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Players"
                ],
                "summary": "Delete a player",
                "description": "Permanently deletes a player from the system.",
                "operationId": "deletePlayer",
                "parameters": [
                    {
                        "name": "player",
                        "in": "path",
                        "description": "Player ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Player deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Player not found"
                    }
                }
            }
        },
        "/players/{player}/attributes": {
            "get": {
                "tags": [
                    "Players"
                ],
                "summary": "Get detailed player attributes",
                "description": "Returns the player's attributes grouped into technical, mental, physical, and goalkeeping categories, along with overall ability ratings.",
                "operationId": "getPlayerAttributes",
                "parameters": [
                    {
                        "name": "player",
                        "in": "path",
                        "description": "Player ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Player attributes retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "player": {
                                                    "description": "Player with primary position",
                                                    "type": "object"
                                                },
                                                "overall_ratings": {
                                                    "properties": {
                                                        "current_ability": {
                                                            "type": "number",
                                                            "example": 15.5
                                                        },
                                                        "potential_ability": {
                                                            "type": "number",
                                                            "example": 18
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "technical": {
                                                    "description": "Technical attributes (finishing, first_touch, free_kick_taking, heading, long_shots, passing, technique, dribbling)",
                                                    "type": "object"
                                                },
                                                "mental": {
                                                    "description": "Mental attributes (aggression, anticipation, composure, concentration, decisions, determination, leadership, positioning, teamwork, vision, work_rate)",
                                                    "type": "object"
                                                },
                                                "physical": {
                                                    "description": "Physical attributes (acceleration, agility, balance, jumping_reach, natural_fitness, pace, stamina, strength)",
                                                    "type": "object"
                                                },
                                                "goalkeeping": {
                                                    "description": "Goalkeeping attributes (aerial_reach, command_of_area, handling, kicking, one_on_ones, reflexes, rushing_out, throwing)",
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player attributes retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Player or attributes not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player attributes not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/players/{player}/transfer": {
            "post": {
                "tags": [
                    "Players"
                ],
                "summary": "Transfer a player to another team",
                "description": "Transfers a player to a new team, updating their contract details, wage, and shirt number. Validates shirt number availability in the destination team.",
                "operationId": "transferPlayer",
                "parameters": [
                    {
                        "name": "player",
                        "in": "path",
                        "description": "Player ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "new_team_id",
                                    "transfer_fee",
                                    "new_wage",
                                    "contract_length_years"
                                ],
                                "properties": {
                                    "new_team_id": {
                                        "description": "Destination team ID",
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "transfer_fee": {
                                        "description": "Transfer fee amount",
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 50000000
                                    },
                                    "new_wage": {
                                        "description": "New weekly wage",
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 300000
                                    },
                                    "contract_length_years": {
                                        "description": "Contract duration in years",
                                        "type": "integer",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 4
                                    },
                                    "shirt_number": {
                                        "description": "Shirt number at new team",
                                        "type": "integer",
                                        "maximum": 99,
                                        "minimum": 1,
                                        "example": 9,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Player transferred successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "player": {
                                                    "description": "Updated player with new team and position",
                                                    "type": "object"
                                                },
                                                "transfer_details": {
                                                    "properties": {
                                                        "from_team": {
                                                            "type": "string",
                                                            "example": "SL Benfica"
                                                        },
                                                        "to_team": {
                                                            "type": "string",
                                                            "example": "FC Porto"
                                                        },
                                                        "transfer_fee": {
                                                            "type": "number",
                                                            "example": 50000000
                                                        },
                                                        "new_wage": {
                                                            "type": "number",
                                                            "example": 300000
                                                        },
                                                        "contract_length": {
                                                            "type": "string",
                                                            "example": "4 years"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Player transferred successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Player or destination team not found"
                    },
                    "422": {
                        "description": "Validation error or shirt number already taken in new team",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Shirt number already taken in the new team"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/positions/{position}/players": {
            "get": {
                "tags": [
                    "Players"
                ],
                "summary": "Get all players for a specific position",
                "description": "Returns a list of players whose primary position matches the given position, ordered by market value descending.",
                "operationId": "getPlayersByPosition",
                "parameters": [
                    {
                        "name": "position",
                        "in": "path",
                        "description": "Position ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Players retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "position": {
                                                    "description": "Position details",
                                                    "type": "object"
                                                },
                                                "players": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer"
                                                            },
                                                            "full_name": {
                                                                "type": "string"
                                                            },
                                                            "team": {
                                                                "type": "object"
                                                            },
                                                            "age": {
                                                                "type": "integer"
                                                            },
                                                            "nationality": {
                                                                "type": "string"
                                                            },
                                                            "market_value": {
                                                                "type": "number"
                                                            },
                                                            "current_ability": {
                                                                "type": "number"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Players retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Position not found"
                    }
                }
            }
        },
        "/positions": {
            "get": {
                "tags": [
                    "Positions"
                ],
                "summary": "List all positions",
                "description": "Returns all positions with primary player counts. Optionally filter by category.",
                "operationId": "listPositions",
                "parameters": [
                    {
                        "name": "category",
                        "in": "query",
                        "description": "Filter by position category",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "goalkeeper",
                                "defender",
                                "midfielder",
                                "forward"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Positions retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Centre Back"
                                                    },
                                                    "short_name": {
                                                        "type": "string",
                                                        "example": "CB"
                                                    },
                                                    "category": {
                                                        "type": "string",
                                                        "example": "defender"
                                                    },
                                                    "primary_players_count": {
                                                        "type": "integer",
                                                        "example": 42
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Positions retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Positions"
                ],
                "summary": "Create a new position",
                "description": "Creates a new player position with a name, short name, category, and key attributes.",
                "operationId": "createPosition",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "short_name",
                                    "category",
                                    "key_attributes"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Full position name (must be unique)",
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Centre Back"
                                    },
                                    "short_name": {
                                        "description": "Short abbreviation (must be unique)",
                                        "type": "string",
                                        "maxLength": 3,
                                        "example": "CB"
                                    },
                                    "category": {
                                        "type": "string",
                                        "enum": [
                                            "goalkeeper",
                                            "defender",
                                            "midfielder",
                                            "forward"
                                        ],
                                        "example": "defender"
                                    },
                                    "key_attributes": {
                                        "description": "Key attributes for this position (minimum 3)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "maxLength": 50
                                        },
                                        "minItems": 3,
                                        "example": [
                                            "tackling",
                                            "heading",
                                            "positioning"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Position created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Created position",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Position created successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error (e.g., duplicate name/short_name, missing key_attributes)"
                    }
                }
            }
        },
        "/positions/{position}": {
            "get": {
                "tags": [
                    "Positions"
                ],
                "summary": "Get a specific position",
                "description": "Returns a single position with its primary players, including each player's team and attributes.",
                "operationId": "getPosition",
                "parameters": [
                    {
                        "name": "position",
                        "in": "path",
                        "description": "Position ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Position retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Position with primary players (including team and attributes)",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Position retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Position not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Positions"
                ],
                "summary": "Update an existing position",
                "description": "Updates a position's details. All fields are optional (uses 'sometimes' validation). Uniqueness constraints on name and short_name exclude the current record.",
                "operationId": "updatePosition",
                "parameters": [
                    {
                        "name": "position",
                        "in": "path",
                        "description": "Position ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Wide Midfielder"
                                    },
                                    "short_name": {
                                        "type": "string",
                                        "maxLength": 3,
                                        "example": "WM"
                                    },
                                    "category": {
                                        "type": "string",
                                        "enum": [
                                            "goalkeeper",
                                            "defender",
                                            "midfielder",
                                            "forward"
                                        ]
                                    },
                                    "key_attributes": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "maxLength": 50
                                        },
                                        "minItems": 3
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Position updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "description": "Updated position",
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Position updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Position not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Positions"
                ],
                "summary": "Delete a position",
                "description": "Permanently deletes a position from the system.",
                "operationId": "deletePosition",
                "parameters": [
                    {
                        "name": "position",
                        "in": "path",
                        "description": "Position ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Position deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Position deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Position not found"
                    }
                }
            }
        },
        "/positions/category/grouped": {
            "get": {
                "tags": [
                    "Positions"
                ],
                "summary": "Get positions grouped by category",
                "description": "Returns all positions organized into groups by their category (goalkeeper, defender, midfielder, forward).",
                "operationId": "getPositionsGroupedByCategory",
                "responses": {
                    "200": {
                        "description": "Positions grouped by category retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "goalkeeper": {
                                                    "description": "Goalkeeper positions",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "defender": {
                                                    "description": "Defender positions",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "midfielder": {
                                                    "description": "Midfielder positions",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "forward": {
                                                    "description": "Forward positions",
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Positions grouped by category retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/seasons": {
            "get": {
                "tags": [
                    "Seasons"
                ],
                "summary": "List all seasons",
                "description": "Returns all seasons ordered by start date descending.",
                "operationId": "getSeasons",
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/seasons/{id}": {
            "get": {
                "tags": [
                    "Seasons"
                ],
                "summary": "Get a specific season",
                "description": "Returns a single season with its associated matches.",
                "operationId": "getSeason",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Season ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Season not found"
                    }
                }
            }
        },
        "/seasons/current": {
            "get": {
                "tags": [
                    "Seasons"
                ],
                "summary": "Get the current active season",
                "description": "Returns the season that is marked as current. Returns 404 if no current season is set.",
                "operationId": "getCurrentSeason",
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No current season found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No current season found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/matches/{match}/simulate-stream": {
            "post": {
                "tags": [
                    "Simulation"
                ],
                "summary": "Stream a match simulation via Server-Sent Events",
                "description": "Runs a tick-based match simulation and streams minute-by-minute updates as SSE named events. Events emitted: lineup, minute, goal, card, half_time, full_time, error. After the simulation completes, results are persisted to the database.",
                "operationId": "simulateStream",
                "parameters": [
                    {
                        "name": "match",
                        "in": "path",
                        "description": "The match ID to simulate",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "speed",
                        "in": "query",
                        "description": "Simulation playback speed controlling delay between ticks",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "fast",
                            "enum": [
                                "realtime",
                                "fast",
                                "instant"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "SSE stream (text/event-stream). Named events: lineup (team lineups), minute (tick data with events, score, stats), goal (scorer and score), card (yellow/red card detail), half_time (half-time score and stats), full_time (final score and stats), error (error details)."
                    },
                    "422": {
                        "description": "Match is not ready for simulation (missing teams, formations, or players)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Match must have both a home team and an away team assigned."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/matches/{match}/simulate-instant": {
            "get": {
                "tags": [
                    "Simulation"
                ],
                "summary": "Run a full match simulation and return the result as JSON",
                "description": "Executes the entire tick-based match simulation synchronously and returns the complete result including lineups, all minute ticks, final score, and full-time statistics. Results are persisted to the database.",
                "operationId": "simulateInstant",
                "parameters": [
                    {
                        "name": "match",
                        "in": "path",
                        "description": "The match ID to simulate",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Complete simulation result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "match_id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "lineups": {
                                            "properties": {
                                                "home": {
                                                    "properties": {
                                                        "team_name": {
                                                            "type": "string",
                                                            "example": "FC Porto"
                                                        },
                                                        "formation": {
                                                            "type": "string",
                                                            "example": "4-3-3"
                                                        },
                                                        "starting": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "subs": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "away": {
                                                    "properties": {
                                                        "team_name": {
                                                            "type": "string",
                                                            "example": "SL Benfica"
                                                        },
                                                        "formation": {
                                                            "type": "string",
                                                            "example": "4-4-2"
                                                        },
                                                        "starting": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "subs": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "minutes": {
                                            "type": "array",
                                            "items": {
                                                "description": "Tick data for each simulated minute",
                                                "type": "object"
                                            }
                                        },
                                        "final_score": {
                                            "properties": {
                                                "home": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "away": {
                                                    "type": "integer",
                                                    "example": 1
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "full_time_stats": {
                                            "description": "Aggregated match statistics for both teams",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Match is not ready for simulation (missing teams, formations, or players)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Match must have both a home team and an away team assigned."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/tactics": {
            "get": {
                "tags": [
                    "Tactics"
                ],
                "summary": "List all tactics",
                "description": "Retrieve a paginated list of tactics with their formations. Can be filtered by formation, mentality, or formation style. Includes teams count for each tactic.",
                "operationId": "getTactics",
                "parameters": [
                    {
                        "name": "formation_id",
                        "in": "query",
                        "description": "Filter tactics by formation ID",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "mentality",
                        "in": "query",
                        "description": "Filter tactics by mentality",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "very_defensive",
                                "defensive",
                                "balanced",
                                "attacking",
                                "very_attacking"
                            ]
                        }
                    },
                    {
                        "name": "style",
                        "in": "query",
                        "description": "Filter tactics by their formation's style",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "defensive",
                                "balanced",
                                "attacking"
                            ]
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of results per page (default: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tactics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer"
                                                            },
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "mentality": {
                                                                "type": "string"
                                                            },
                                                            "formation": {
                                                                "type": "object"
                                                            },
                                                            "teams_count": {
                                                                "type": "integer"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "last_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactics retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Tactics"
                ],
                "summary": "Create a new tactic",
                "description": "Store a newly created tactic. Automatically applies sample instructions from the selected formation (if available) and auto-generates tactical characteristics.",
                "operationId": "storeTactic",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "formation_id",
                                    "mentality",
                                    "team_instructions",
                                    "defensive_line",
                                    "pressing",
                                    "tempo",
                                    "width"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Tiki-Taka"
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 500,
                                        "nullable": true
                                    },
                                    "formation_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "mentality": {
                                        "type": "string",
                                        "enum": [
                                            "very_defensive",
                                            "defensive",
                                            "balanced",
                                            "attacking",
                                            "very_attacking"
                                        ]
                                    },
                                    "team_instructions": {
                                        "type": "string",
                                        "enum": [
                                            "control_possession",
                                            "direct_passing",
                                            "short_passing",
                                            "mixed"
                                        ]
                                    },
                                    "defensive_line": {
                                        "type": "string",
                                        "enum": [
                                            "very_deep",
                                            "deep",
                                            "standard",
                                            "high",
                                            "very_high"
                                        ]
                                    },
                                    "pressing": {
                                        "type": "string",
                                        "enum": [
                                            "never",
                                            "rarely",
                                            "sometimes",
                                            "often",
                                            "always"
                                        ]
                                    },
                                    "tempo": {
                                        "type": "string",
                                        "enum": [
                                            "very_slow",
                                            "slow",
                                            "standard",
                                            "fast",
                                            "very_fast"
                                        ]
                                    },
                                    "width": {
                                        "type": "string",
                                        "enum": [
                                            "very_narrow",
                                            "narrow",
                                            "standard",
                                            "wide",
                                            "very_wide"
                                        ]
                                    },
                                    "offside_trap": {
                                        "type": "boolean"
                                    },
                                    "play_out_of_defence": {
                                        "type": "boolean"
                                    },
                                    "use_offside_trap": {
                                        "type": "boolean"
                                    },
                                    "close_down_more": {
                                        "type": "boolean"
                                    },
                                    "tackle_harder": {
                                        "type": "boolean"
                                    },
                                    "get_stuck_in": {
                                        "type": "boolean"
                                    },
                                    "custom_positions": {
                                        "type": "array",
                                        "items": {
                                            "type": "object"
                                        }
                                    },
                                    "player_assignments": {
                                        "type": "array",
                                        "items": {
                                            "type": "object"
                                        }
                                    },
                                    "characteristics": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Tactic created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "mentality": {
                                                    "type": "string"
                                                },
                                                "formation": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactic created successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/tactics/{tactic}": {
            "get": {
                "tags": [
                    "Tactics"
                ],
                "summary": "Get a specific tactic",
                "description": "Retrieve a single tactic by ID, including its formation, assigned teams, tactical positions with players, and position details.",
                "operationId": "showTactic",
                "parameters": [
                    {
                        "name": "tactic",
                        "in": "path",
                        "description": "Tactic ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tactic retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "mentality": {
                                                    "type": "string"
                                                },
                                                "formation": {
                                                    "type": "object"
                                                },
                                                "teams": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "tactical_positions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "player": {
                                                                "type": "object"
                                                            },
                                                            "position": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactic retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tactic not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Tactics"
                ],
                "summary": "Update a tactic",
                "description": "Update an existing tactic. Supports all tactic fields including extended tactical instructions (attacking_width, approach_play, passing_directness, final_third, creative_freedom, tempo, transition settings, goalkeeper distribution, out-of-possession settings). Custom positions are auto-analyzed and the best matching formation is assigned. Characteristics are auto-regenerated after update.",
                "operationId": "updateTactic",
                "parameters": [
                    {
                        "name": "tactic",
                        "in": "path",
                        "description": "Tactic ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 100
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 500,
                                        "nullable": true
                                    },
                                    "formation_id": {
                                        "type": "integer"
                                    },
                                    "mentality": {
                                        "type": "string",
                                        "enum": [
                                            "very_defensive",
                                            "defensive",
                                            "balanced",
                                            "attacking",
                                            "very_attacking"
                                        ]
                                    },
                                    "team_instructions": {
                                        "type": "string",
                                        "enum": [
                                            "control_possession",
                                            "direct_passing",
                                            "short_passing",
                                            "mixed"
                                        ]
                                    },
                                    "defensive_line": {
                                        "type": "string",
                                        "enum": [
                                            "very_deep",
                                            "deep",
                                            "standard",
                                            "high",
                                            "very_high"
                                        ]
                                    },
                                    "pressing": {
                                        "type": "string",
                                        "enum": [
                                            "never",
                                            "rarely",
                                            "sometimes",
                                            "often",
                                            "always"
                                        ]
                                    },
                                    "tempo": {
                                        "type": "string",
                                        "enum": [
                                            "very_slow",
                                            "slow",
                                            "standard",
                                            "fast",
                                            "very_fast"
                                        ]
                                    },
                                    "width": {
                                        "type": "string",
                                        "enum": [
                                            "very_narrow",
                                            "narrow",
                                            "standard",
                                            "wide",
                                            "very_wide"
                                        ]
                                    },
                                    "offside_trap": {
                                        "type": "boolean"
                                    },
                                    "play_out_of_defence": {
                                        "type": "boolean"
                                    },
                                    "use_offside_trap": {
                                        "type": "boolean"
                                    },
                                    "close_down_more": {
                                        "type": "boolean"
                                    },
                                    "tackle_harder": {
                                        "type": "boolean"
                                    },
                                    "get_stuck_in": {
                                        "type": "boolean"
                                    },
                                    "attacking_width": {
                                        "type": "string",
                                        "enum": [
                                            "very_narrow",
                                            "narrow",
                                            "standard",
                                            "wide",
                                            "very_wide"
                                        ]
                                    },
                                    "approach_play": {
                                        "type": "string",
                                        "enum": [
                                            "more_direct",
                                            "balanced",
                                            "patient"
                                        ]
                                    },
                                    "passing_directness": {
                                        "type": "string",
                                        "enum": [
                                            "very_short",
                                            "short",
                                            "standard",
                                            "direct",
                                            "very_direct"
                                        ]
                                    },
                                    "time_wasting": {
                                        "type": "string",
                                        "enum": [
                                            "never",
                                            "rarely",
                                            "sometimes",
                                            "often",
                                            "always"
                                        ]
                                    },
                                    "final_third": {
                                        "type": "string",
                                        "enum": [
                                            "work_ball_into_box",
                                            "low_crosses",
                                            "whipped_crosses",
                                            "hit_early_crosses",
                                            "mixed"
                                        ]
                                    },
                                    "creative_freedom": {
                                        "type": "string",
                                        "enum": [
                                            "disciplined",
                                            "balanced",
                                            "expressive"
                                        ]
                                    },
                                    "work_ball_into_box": {
                                        "type": "boolean"
                                    },
                                    "low_crosses": {
                                        "type": "boolean"
                                    },
                                    "whipped_crosses": {
                                        "type": "boolean"
                                    },
                                    "hit_early_crosses": {
                                        "type": "boolean"
                                    },
                                    "counter_press": {
                                        "type": "boolean"
                                    },
                                    "counter_attack": {
                                        "type": "boolean"
                                    },
                                    "regroup": {
                                        "type": "boolean"
                                    },
                                    "hold_shape": {
                                        "type": "boolean"
                                    },
                                    "goalkeeper_distribution": {
                                        "type": "string",
                                        "enum": [
                                            "distribute_quickly",
                                            "slow_pace_down",
                                            "roll_out",
                                            "throw_long",
                                            "take_short_kicks",
                                            "take_long_kicks",
                                            "mixed"
                                        ]
                                    },
                                    "distribute_quickly": {
                                        "type": "boolean"
                                    },
                                    "slow_pace_down": {
                                        "type": "boolean"
                                    },
                                    "roll_out": {
                                        "type": "boolean"
                                    },
                                    "throw_long": {
                                        "type": "boolean"
                                    },
                                    "take_short_kicks": {
                                        "type": "boolean"
                                    },
                                    "take_long_kicks": {
                                        "type": "boolean"
                                    },
                                    "line_of_engagement": {
                                        "type": "string",
                                        "enum": [
                                            "very_deep",
                                            "deep",
                                            "standard",
                                            "high",
                                            "very_high"
                                        ]
                                    },
                                    "pressing_intensity": {
                                        "type": "string",
                                        "enum": [
                                            "never",
                                            "rarely",
                                            "balanced",
                                            "often",
                                            "always"
                                        ]
                                    },
                                    "prevent_short_gk_distribution": {
                                        "type": "boolean"
                                    },
                                    "tackling": {
                                        "type": "string",
                                        "enum": [
                                            "stay_on_feet",
                                            "get_stuck_in",
                                            "balanced"
                                        ]
                                    },
                                    "pressing_trap": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "inside",
                                            "outside"
                                        ]
                                    },
                                    "stay_on_feet": {
                                        "type": "boolean"
                                    },
                                    "custom_positions": {
                                        "type": "array",
                                        "items": {
                                            "type": "object"
                                        }
                                    },
                                    "player_assignments": {
                                        "type": "array",
                                        "items": {
                                            "type": "object"
                                        }
                                    },
                                    "characteristics": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tactic updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "formation": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactic updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tactic not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Tactics"
                ],
                "summary": "Delete a tactic",
                "description": "Remove the specified tactic from the system.",
                "operationId": "destroyTactic",
                "parameters": [
                    {
                        "name": "tactic",
                        "in": "path",
                        "description": "Tactic ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tactic deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactic deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tactic not found"
                    }
                }
            }
        },
        "/tactics/{tactic}/assign-team": {
            "post": {
                "tags": [
                    "Tactics"
                ],
                "summary": "Assign a tactic to a team",
                "description": "Assign the specified tactic to a team. Optionally set it as the team's primary tactic (which removes primary status from other tactics).",
                "operationId": "assignTacticToTeam",
                "parameters": [
                    {
                        "name": "tactic",
                        "in": "path",
                        "description": "Tactic ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id"
                                ],
                                "properties": {
                                    "team_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "is_primary": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tactic assigned to team successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "tactic": {
                                                    "type": "object"
                                                },
                                                "team": {
                                                    "type": "object"
                                                },
                                                "is_primary": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactic assigned to team successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tactic not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/tactics/{tactic}/analysis": {
            "get": {
                "tags": [
                    "Tactics"
                ],
                "summary": "Get tactical analysis",
                "description": "Retrieve a comprehensive tactical analysis for the specified tactic, including formation analysis (defensive stability, attacking threat, midfield control scores), tactical summary (approach, strengths, weaknesses), and recommended match scenarios.",
                "operationId": "getTacticAnalysis",
                "parameters": [
                    {
                        "name": "tactic",
                        "in": "path",
                        "description": "Tactic ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tactical analysis retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "tactic": {
                                                    "type": "object"
                                                },
                                                "formation_analysis": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "4-3-3"
                                                        },
                                                        "style": {
                                                            "type": "string",
                                                            "example": "attacking"
                                                        },
                                                        "defensive_stability": {
                                                            "type": "integer",
                                                            "example": 65
                                                        },
                                                        "attacking_threat": {
                                                            "type": "integer",
                                                            "example": 74
                                                        },
                                                        "midfield_control": {
                                                            "type": "integer",
                                                            "example": 68
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "tactical_summary": {
                                                    "properties": {
                                                        "approach": {
                                                            "type": "string",
                                                            "example": "Attacking"
                                                        },
                                                        "strengths": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string",
                                                                "example": "High pressing"
                                                            }
                                                        },
                                                        "weaknesses": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string",
                                                                "example": "Vulnerable to counter-attacks"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "recommended_for": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Chasing a game"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Tactical analysis retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Tactic not found"
                    }
                }
            }
        },
        "/teams/all": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get all teams (unpaginated)",
                "description": "Returns all teams ordered by name, each with its associated league.",
                "operationId": "getAllTeams",
                "responses": {
                    "200": {
                        "description": "Teams retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/teams": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "List all teams",
                "description": "Returns a paginated list of teams, optionally filtered by league, country, or search term.",
                "operationId": "getTeams",
                "parameters": [
                    {
                        "name": "league_id",
                        "in": "query",
                        "description": "Filter teams by league ID",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "country",
                        "in": "query",
                        "description": "Filter teams by country (matched via league)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search teams by name (partial match)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of results per page (default: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 15
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Teams retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Teams retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Teams"
                ],
                "summary": "Create a new team",
                "description": "Creates a new team with the provided details and returns it with its league.",
                "operationId": "createTeam",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "short_name",
                                    "city",
                                    "league_id",
                                    "budget",
                                    "reputation",
                                    "primary_color",
                                    "secondary_color"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "FC Porto"
                                    },
                                    "short_name": {
                                        "type": "string",
                                        "maxLength": 3,
                                        "example": "FCP"
                                    },
                                    "city": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Porto"
                                    },
                                    "stadium_name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Estadio do Dragao",
                                        "nullable": true
                                    },
                                    "stadium_capacity": {
                                        "type": "integer",
                                        "maximum": 150000,
                                        "minimum": 1000,
                                        "example": 50033,
                                        "nullable": true
                                    },
                                    "league_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "budget": {
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 50000000
                                    },
                                    "reputation": {
                                        "type": "number",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 8.5
                                    },
                                    "primary_color": {
                                        "description": "Hex color code",
                                        "type": "string",
                                        "example": "#003DA5"
                                    },
                                    "secondary_color": {
                                        "description": "Hex color code",
                                        "type": "string",
                                        "example": "#FFFFFF"
                                    },
                                    "founded_year": {
                                        "type": "integer",
                                        "minimum": 1800,
                                        "example": 1893,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Team created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Team created successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/teams/{team}": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get a specific team",
                "description": "Returns a single team with its league, players, and tactics (including formations).",
                "operationId": "getTeam",
                "parameters": [
                    {
                        "name": "team",
                        "in": "path",
                        "description": "Team ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Team retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Team retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Team not found"
                    }
                }
            },
            "put": {
                "tags": [
                    "Teams"
                ],
                "summary": "Update an existing team",
                "description": "Updates a team with the provided fields. All fields are optional.",
                "operationId": "updateTeam",
                "parameters": [
                    {
                        "name": "team",
                        "in": "path",
                        "description": "Team ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "FC Porto"
                                    },
                                    "short_name": {
                                        "type": "string",
                                        "maxLength": 3,
                                        "example": "FCP"
                                    },
                                    "city": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "Porto"
                                    },
                                    "stadium_name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Estadio do Dragao",
                                        "nullable": true
                                    },
                                    "stadium_capacity": {
                                        "type": "integer",
                                        "maximum": 150000,
                                        "minimum": 1000,
                                        "example": 50033,
                                        "nullable": true
                                    },
                                    "league_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "budget": {
                                        "type": "number",
                                        "minimum": 0,
                                        "example": 50000000
                                    },
                                    "reputation": {
                                        "type": "number",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 8.5
                                    },
                                    "primary_color": {
                                        "description": "Hex color code",
                                        "type": "string",
                                        "example": "#003DA5"
                                    },
                                    "secondary_color": {
                                        "description": "Hex color code",
                                        "type": "string",
                                        "example": "#FFFFFF"
                                    },
                                    "founded_year": {
                                        "type": "integer",
                                        "minimum": 1800,
                                        "example": 1893,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Team updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Team updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Team not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            },
            "delete": {
                "tags": [
                    "Teams"
                ],
                "summary": "Delete a team",
                "description": "Permanently deletes the specified team.",
                "operationId": "deleteTeam",
                "parameters": [
                    {
                        "name": "team",
                        "in": "path",
                        "description": "Team ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Team deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Team deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Team not found"
                    }
                }
            }
        },
        "/teams/{team}/squad": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get team squad",
                "description": "Returns the team's full squad with detailed player information including position, attributes, age, nationality, market value, and injury status. Also includes aggregate squad statistics.",
                "operationId": "getTeamSquad",
                "parameters": [
                    {
                        "name": "team",
                        "in": "path",
                        "description": "Team ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Team squad retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "team": {
                                                    "type": "object"
                                                },
                                                "players": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "full_name": {
                                                                "type": "string",
                                                                "example": "Diogo Costa"
                                                            },
                                                            "shirt_number": {
                                                                "type": "integer",
                                                                "example": 99
                                                            },
                                                            "position": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer"
                                                                    },
                                                                    "name": {
                                                                        "type": "string"
                                                                    },
                                                                    "short_name": {
                                                                        "type": "string"
                                                                    },
                                                                    "category": {
                                                                        "type": "string"
                                                                    },
                                                                    "key_attributes": {
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "type": "object",
                                                                "nullable": true
                                                            },
                                                            "age": {
                                                                "type": "integer",
                                                                "example": 25
                                                            },
                                                            "nationality": {
                                                                "type": "string",
                                                                "example": "Portuguese"
                                                            },
                                                            "market_value": {
                                                                "type": "number",
                                                                "example": 25000000
                                                            },
                                                            "current_ability": {
                                                                "type": "number",
                                                                "example": 15.5
                                                            },
                                                            "potential_ability": {
                                                                "type": "number",
                                                                "example": 18
                                                            },
                                                            "is_injured": {
                                                                "type": "boolean",
                                                                "example": false
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "stats": {
                                                    "properties": {
                                                        "total_players": {
                                                            "type": "integer",
                                                            "example": 28
                                                        },
                                                        "average_age": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 25.3
                                                        },
                                                        "total_value": {
                                                            "type": "number",
                                                            "example": 350000000
                                                        },
                                                        "average_rating": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 14.2
                                                        },
                                                        "injured_players": {
                                                            "type": "integer",
                                                            "example": 2
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Team squad retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Team not found"
                    }
                }
            }
        },
        "/teams/{team}/tactics": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get team tactics",
                "description": "Returns all tactics configured for the team, each with its associated formation.",
                "operationId": "getTeamTactics",
                "parameters": [
                    {
                        "name": "team",
                        "in": "path",
                        "description": "Team ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Team tactics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "team": {
                                                    "type": "object"
                                                },
                                                "tactics": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Team tactics retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Team not found"
                    }
                }
            }
        },
        "/leagues/{league}/teams": {
            "get": {
                "tags": [
                    "Teams"
                ],
                "summary": "Get teams by league",
                "description": "Returns all teams belonging to the specified league, ordered by reputation, with player counts and budget information.",
                "operationId": "getTeamsByLeague",
                "parameters": [
                    {
                        "name": "league",
                        "in": "path",
                        "description": "League ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Teams retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "league": {
                                                    "type": "object"
                                                },
                                                "teams": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "SL Benfica"
                                                            },
                                                            "short_name": {
                                                                "type": "string",
                                                                "example": "BEN"
                                                            },
                                                            "city": {
                                                                "type": "string",
                                                                "example": "Lisbon"
                                                            },
                                                            "reputation": {
                                                                "type": "number",
                                                                "example": 8.5
                                                            },
                                                            "players_count": {
                                                                "type": "integer",
                                                                "example": 28
                                                            },
                                                            "budget": {
                                                                "type": "number",
                                                                "example": 80000000
                                                            },
                                                            "primary_color": {
                                                                "type": "string",
                                                                "example": "#FF0000"
                                                            },
                                                            "secondary_color": {
                                                                "type": "string",
                                                                "example": "#FFFFFF"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Teams retrieved successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "League not found"
                    }
                }
            }
        },
        "/time/advance-day": {
            "post": {
                "tags": [
                    "Time"
                ],
                "summary": "Advance the game clock by one day",
                "description": "Advances the in-game date by one day for the specified team. Returns a status message and the next upcoming match if one exists.",
                "operationId": "advanceDay",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id"
                                ],
                                "properties": {
                                    "team_id": {
                                        "description": "ID of the team to advance time for",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Time advanced successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Advanced to next day"
                                        },
                                        "data": {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Advanced to next day"
                                                },
                                                "next_match": {
                                                    "description": "Next match with homeTeam, awayTeam, and league loaded",
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The team id field is required."
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error advancing time: error details"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/time/advance-to-match": {
            "post": {
                "tags": [
                    "Time"
                ],
                "summary": "Advance game time to the next match day",
                "description": "Jumps the in-game date forward to the next significant event (typically the next match day) for the specified team. Returns a status message and the next upcoming match.",
                "operationId": "advanceToMatch",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id"
                                ],
                                "properties": {
                                    "team_id": {
                                        "description": "ID of the team to advance time for",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Time advanced successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Advanced to match day"
                                        },
                                        "data": {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Advanced to match day"
                                                },
                                                "next_match": {
                                                    "description": "Next match with homeTeam, awayTeam, and league loaded",
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The team id field is required."
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error advancing time: error details"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/time/current-date": {
            "get": {
                "tags": [
                    "Time"
                ],
                "summary": "Get the current in-game date and next match info",
                "description": "Returns the current game date for the authenticated user. If a team_id is provided, also returns the next match for that team, days until the match, and whether it is match day.",
                "operationId": "getCurrentDate",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Optional team ID to include next-match information",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Current date retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "current_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-15"
                                                },
                                                "formatted_date": {
                                                    "type": "string",
                                                    "example": "Monday, September 15, 2025"
                                                },
                                                "next_match": {
                                                    "description": "Next match with homeTeam, awayTeam, and league loaded (only present when team_id is provided)",
                                                    "type": "object",
                                                    "nullable": true
                                                },
                                                "days_until_match": {
                                                    "description": "Days until the next match (only present when team_id is provided)",
                                                    "type": "integer",
                                                    "example": 3,
                                                    "nullable": true
                                                },
                                                "match_day": {
                                                    "description": "Whether today is match day (only present when team_id is provided)",
                                                    "type": "boolean",
                                                    "example": false,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Error getting current date: error details"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "sanctum": {
                "type": "apiKey",
                "description": "Enter token in format: Bearer <token>",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Authentication endpoints"
        },
        {
            "name": "Teams",
            "description": "Team management"
        },
        {
            "name": "Players",
            "description": "Player management and attributes"
        },
        {
            "name": "Formations",
            "description": "Formation management"
        },
        {
            "name": "Tactics",
            "description": "Tactical setup and analysis"
        },
        {
            "name": "Matches",
            "description": "Match details, lineups, and operations"
        },
        {
            "name": "Leagues",
            "description": "League management and standings"
        },
        {
            "name": "Positions",
            "description": "Playing position management"
        },
        {
            "name": "Simulation",
            "description": "Match simulation (new tick-based engine)"
        },
        {
            "name": "Simulator",
            "description": "Legacy match simulation endpoints"
        },
        {
            "name": "Time",
            "description": "Game time progression"
        },
        {
            "name": "Stats",
            "description": "Statistics and overview"
        },
        {
            "name": "Seasons",
            "description": "Seasons"
        }
    ],
    "security": [
        {
            "sanctum": []
        }
    ]
}